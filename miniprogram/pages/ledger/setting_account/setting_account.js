"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../../../api/index");
Page({
    data: {
        ledgerID: 1,
        accounts: [],
        formShow: false,
        form: {
            name: '',
            type: 1,
            icon: '',
            amount: '',
            'card_no': ''
        }
    },
    onLoad: function () {
        this.getAccounts();
    },
    getAccounts: function () {
        var _this = this;
        index_1.getAccounts().then(function (res) {
            _this.setData({
                accounts: res
            });
        });
    },
    onAdd: function () {
        this.setData({
            formShow: true
        });
    },
    onClose: function () {
        this.setData({
            formShow: false
        });
    },
    onDel: function () {
        ;
    },
    onSwitchChange: function () {
        var form = this.data.form;
        form.type = form.type == 1 ? 2 : 1;
        this.setData({
            form: form
        });
    },
    onSave: function () {
        var _this = this;
        index_1.addAccount(this.data.form).then(function (res) {
            console.log(res);
            _this.getAccounts();
            _this.setData({
                formShow: false
            });
        });
    },
    onInput: function (e) {
        var id = e.currentTarget.id;
        var value = e.detail;
        var form = this.data.form;
        form[id] = value;
        this.setData({
            form: form
        });
    },
    onBankNoAsk: function () {
        wx.showToast({
            title: '输入银行卡号可以快速匹配银行及logo',
            icon: 'none',
            duration: 2000
        });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0dGluZ19hY2NvdW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic2V0dGluZ19hY2NvdW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNENBQTREO0FBSTVELElBQUksQ0FBQztJQUNILElBQUksRUFBRTtRQUNKLFFBQVEsRUFBRSxDQUFDO1FBQ1gsUUFBUSxFQUFFLEVBQWM7UUFDeEIsUUFBUSxFQUFFLEtBQUs7UUFDZixJQUFJLEVBQUU7WUFDSixJQUFJLEVBQUUsRUFBRTtZQUNSLElBQUksRUFBRSxDQUFDO1lBQ1AsSUFBSSxFQUFFLEVBQUU7WUFDUixNQUFNLEVBQUUsRUFBRTtZQUNWLFNBQVMsRUFBRSxFQUFFO1NBQ047S0FDVjtJQUNELE1BQU07UUFDSixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUE7SUFDcEIsQ0FBQztJQUNELFdBQVc7UUFBWCxpQkFNQztRQUxDLG1CQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBQSxHQUFHO1lBQ3BCLEtBQUksQ0FBQyxPQUFPLENBQUM7Z0JBQ1gsUUFBUSxFQUFFLEdBQUc7YUFDZCxDQUFDLENBQUE7UUFDSixDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFDRCxLQUFLO1FBQ0gsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNYLFFBQVEsRUFBRSxJQUFJO1NBQ2YsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUNELE9BQU87UUFDTCxJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ1gsUUFBUSxFQUFFLEtBQUs7U0FDaEIsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUNELEtBQUs7UUFDSCxDQUFDO0lBQ0gsQ0FBQztJQUNELGNBQWM7UUFDWixJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQTtRQUMzQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNqQyxJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ1gsSUFBSSxNQUFBO1NBQ0wsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUNELE1BQU07UUFBTixpQkFRQztRQVBDLGtCQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQSxHQUFHO1lBQ2pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDaEIsS0FBSSxDQUFDLFdBQVcsRUFBRSxDQUFBO1lBQ2xCLEtBQUksQ0FBQyxPQUFPLENBQUM7Z0JBQ1gsUUFBUSxFQUFFLEtBQUs7YUFDaEIsQ0FBQyxDQUFBO1FBQ0osQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDO0lBQ0QsT0FBTyxFQUFQLFVBQVEsQ0FBSztRQUNKLElBQUEsRUFBRSxHQUFJLENBQUMsQ0FBQyxhQUFhLEdBQW5CLENBQW1CO1FBQzVCLElBQU0sS0FBSyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUE7UUFDZixJQUFBLElBQUksR0FBSSxJQUFJLENBQUMsSUFBSSxLQUFiLENBQWE7UUFDeEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQTtRQUNoQixJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ1gsSUFBSSxNQUFBO1NBQ0wsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUNELFdBQVc7UUFDVCxFQUFFLENBQUMsU0FBUyxDQUFDO1lBQ1gsS0FBSyxFQUFFLHFCQUFxQjtZQUM1QixJQUFJLEVBQUUsTUFBTTtZQUNaLFFBQVEsRUFBRSxJQUFJO1NBQ2YsQ0FBQyxDQUFBO0lBQ0osQ0FBQztDQUNGLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEFjY291bnRzLCBhZGRBY2NvdW50IH0gZnJvbSBcIi4uLy4uLy4uL2FwaS9pbmRleFwiXG5pbnRlcmZhY2UgZm9ybSB7XG4gIFtrZXk6IHN0cmluZ106IHN0cmluZyB8IG51bWJlclxufVxuUGFnZSh7XG4gIGRhdGE6IHtcbiAgICBsZWRnZXJJRDogMSxcbiAgICBhY2NvdW50czogW10gYXMgQW55QXJyYXksXG4gICAgZm9ybVNob3c6IGZhbHNlLFxuICAgIGZvcm06IHtcbiAgICAgIG5hbWU6ICcnLFxuICAgICAgdHlwZTogMSxcbiAgICAgIGljb246ICcnLFxuICAgICAgYW1vdW50OiAnJyxcbiAgICAgICdjYXJkX25vJzogJydcbiAgICB9IGFzIGZvcm1cbiAgfSxcbiAgb25Mb2FkKCl7XG4gICAgdGhpcy5nZXRBY2NvdW50cygpXG4gIH0sXG4gIGdldEFjY291bnRzKCl7XG4gICAgZ2V0QWNjb3VudHMoKS50aGVuKHJlcyA9PiB7XG4gICAgICB0aGlzLnNldERhdGEoe1xuICAgICAgICBhY2NvdW50czogcmVzXG4gICAgICB9KVxuICAgIH0pXG4gIH0sXG4gIG9uQWRkKCl7XG4gICAgdGhpcy5zZXREYXRhKHtcbiAgICAgIGZvcm1TaG93OiB0cnVlXG4gICAgfSlcbiAgfSxcbiAgb25DbG9zZSgpe1xuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICBmb3JtU2hvdzogZmFsc2VcbiAgICB9KVxuICB9LFxuICBvbkRlbCgpe1xuICAgIDtcbiAgfSxcbiAgb25Td2l0Y2hDaGFuZ2UoKXtcbiAgICBjb25zdCBmb3JtID0gdGhpcy5kYXRhLmZvcm1cbiAgICBmb3JtLnR5cGUgPSBmb3JtLnR5cGUgPT0gMSA/IDI6IDFcbiAgICB0aGlzLnNldERhdGEoe1xuICAgICAgZm9ybVxuICAgIH0pXG4gIH0sXG4gIG9uU2F2ZSgpe1xuICAgIGFkZEFjY291bnQodGhpcy5kYXRhLmZvcm0pLnRoZW4ocmVzPT57XG4gICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB0aGlzLmdldEFjY291bnRzKClcbiAgICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICAgIGZvcm1TaG93OiBmYWxzZVxuICAgICAgfSlcbiAgICB9KVxuICB9LFxuICBvbklucHV0KGU6YW55KXtcbiAgICBjb25zdCB7aWR9ID0gZS5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgdmFsdWUgPSBlLmRldGFpbFxuICAgIGNvbnN0IHtmb3JtfSA9IHRoaXMuZGF0YVxuICAgIGZvcm1baWRdID0gdmFsdWVcbiAgICB0aGlzLnNldERhdGEoe1xuICAgICAgZm9ybVxuICAgIH0pXG4gIH0sXG4gIG9uQmFua05vQXNrKCl7XG4gICAgd3guc2hvd1RvYXN0KHtcbiAgICAgIHRpdGxlOiAn6L6T5YWl6ZO26KGM5Y2h5Y+35Y+v5Lul5b+r6YCf5Yy56YWN6ZO26KGM5Y+KbG9nbycsXG4gICAgICBpY29uOiAnbm9uZScsXG4gICAgICBkdXJhdGlvbjogMjAwMFxuICAgIH0pXG4gIH1cbn0pIl19