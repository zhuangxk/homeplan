"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = require("../../../utils/util");
var index_1 = require("../../../api/index");
Page({
    data: {
        bill: {},
        downloadHost: 'https://oss.toko.wang/',
        fileList: [],
        list: [],
        showAction: false,
        saveType: 'add',
        sum: 0,
        id: 0,
        form: {
            name: '',
            amount: 1,
            money: "",
        }
    },
    onPreviewImage: function () {
        var fileList = this.data.fileList;
        wx.previewImage({
            urls: fileList,
            current: fileList[0],
            fail: function () {
                wx.showToast({ title: '预览图片失败', icon: 'none' });
            }
        });
    },
    onAdd: function () {
        this.setData({
            showAction: true,
            saveType: 'add',
            form: {
                name: '',
                amount: 1,
                money: '',
            }
        });
    },
    edit: function (e) {
        var item = e.currentTarget.dataset.item;
        this.setData({
            showAction: true,
            saveType: 'edit',
            id: item.id,
            form: {
                name: item.name,
                amount: item.amount,
                money: item.money,
            }
        });
    },
    onDel: function () {
        var _this = this;
        index_1.delBillDeltail(this.data.id).then(function () {
            _this.getList();
            _this.setData({
                showAction: false
            });
        });
    },
    onSave: function () {
        var _this = this;
        if (this.data.saveType == 'add') {
            var _a = this.data, bill = _a.bill, form = _a.form;
            index_1.addBillDeltail(bill.id, form).then(function () {
                _this.getList();
                _this.setData({
                    showAction: false
                });
            });
        }
        if (this.data.saveType == 'edit') {
            var _b = this.data, id = _b.id, form = _b.form;
            index_1.updateillDeltail(id, form).then(function () {
                _this.getList();
                _this.setData({
                    showAction: false
                });
            });
        }
    },
    getList: function () {
        var _this = this;
        wx.showLoading({
            title: '加载中'
        });
        index_1.getBillDeltails(this.data.bill.id).then(function (res) {
            _this.setData({
                list: res,
                sum: res.reduce(function (p, c) { return (+p) + (+c.money); }, 0)
            });
            wx.hideLoading();
        });
    },
    onClose: function () {
        this.setData({
            showAction: false
        });
    },
    onInput: function (e) {
        var value = e.detail;
        var key = e.currentTarget.id;
        var form = this.data.form;
        form[key] = value;
        this.setData({
            form: form
        });
    },
    onLoad: function () {
        var _this = this;
        var eventChannel = this.getOpenerEventChannel();
        eventChannel.on('acceptDataFromOpenerPage', function (data) {
            var downloadHost = _this.data.downloadHost;
            var bill = data.bill;
            var fileList = [];
            bill.Pic1 && fileList.push(downloadHost + bill.Pic1.file_name);
            bill.Pic2 && fileList.push(downloadHost + bill.Pic2.file_name);
            _this.setData({
                bill: bill,
                billTime: util_1.formatTime(new Date(bill.bill_time)),
                fileList: fileList,
            }, function () {
                _this.getList();
            });
        });
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmlsbF9kZXRhaWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJiaWxsX2RldGFpbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDRDQUE4QztBQUM5Qyw0Q0FBb0c7QUFDcEcsSUFBSSxDQUFDO0lBQ0gsSUFBSSxFQUFFO1FBQ0osSUFBSSxFQUFFLEVBQWU7UUFDckIsWUFBWSxFQUFFLHdCQUF3QjtRQUN0QyxRQUFRLEVBQUUsRUFBYztRQUN4QixJQUFJLEVBQUUsRUFBYztRQUNwQixVQUFVLEVBQUUsS0FBSztRQUNqQixRQUFRLEVBQUUsS0FBSztRQUNmLEdBQUcsRUFBRSxDQUFDO1FBQ04sRUFBRSxFQUFFLENBQUM7UUFDTCxJQUFJLEVBQUU7WUFDSixJQUFJLEVBQUUsRUFBRTtZQUNSLE1BQU0sRUFBRSxDQUFDO1lBQ1QsS0FBSyxFQUFFLEVBQUU7U0FDeUI7S0FDckM7SUFDRCxjQUFjLEVBQWQ7UUFFVSxJQUFBLDZCQUFRLENBQWU7UUFFL0IsRUFBRSxDQUFDLFlBQVksQ0FBQztZQUNaLElBQUksRUFBRSxRQUFRO1lBQ2QsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDcEIsSUFBSTtnQkFDQSxFQUFFLENBQUMsU0FBUyxDQUFDLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztZQUNwRCxDQUFDO1NBQ0osQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUNELEtBQUs7UUFDSCxJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ1gsVUFBVSxFQUFFLElBQUk7WUFDaEIsUUFBUSxFQUFFLEtBQUs7WUFDZixJQUFJLEVBQUU7Z0JBQ0osSUFBSSxFQUFFLEVBQUU7Z0JBQ1IsTUFBTSxFQUFFLENBQUM7Z0JBQ1QsS0FBSyxFQUFFLEVBQUU7YUFDVjtTQUNGLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFDRCxJQUFJLEVBQUosVUFBSyxDQUFNO1FBRVQsSUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFBO1FBQ3pDLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDWCxVQUFVLEVBQUUsSUFBSTtZQUNoQixRQUFRLEVBQUUsTUFBTTtZQUNoQixFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUU7WUFDWCxJQUFJLEVBQUU7Z0JBQ0osSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO2dCQUNmLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTtnQkFDbkIsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO2FBQ2xCO1NBQ0YsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUNELEtBQUs7UUFBTCxpQkFPQztRQU5DLHNCQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDaEMsS0FBSSxDQUFDLE9BQU8sRUFBRSxDQUFBO1lBQ2QsS0FBSSxDQUFDLE9BQU8sQ0FBQztnQkFDWCxVQUFVLEVBQUUsS0FBSzthQUNsQixDQUFDLENBQUE7UUFDSixDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFDRCxNQUFNO1FBQU4saUJBb0JDO1FBbkJDLElBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksS0FBSyxFQUFFO1lBQ3hCLElBQUEsY0FBMEIsRUFBeEIsY0FBSSxFQUFFLGNBQWtCLENBQUE7WUFDaEMsc0JBQWMsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQztnQkFDakMsS0FBSSxDQUFDLE9BQU8sRUFBRSxDQUFBO2dCQUNkLEtBQUksQ0FBQyxPQUFPLENBQUM7b0JBQ1gsVUFBVSxFQUFFLEtBQUs7aUJBQ2xCLENBQUMsQ0FBQTtZQUNKLENBQUMsQ0FBQyxDQUFBO1NBQ0g7UUFFRCxJQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLE1BQU0sRUFBRTtZQUN6QixJQUFBLGNBQXdCLEVBQXRCLFVBQUUsRUFBRSxjQUFrQixDQUFBO1lBQzlCLHdCQUFnQixDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUM7Z0JBQzlCLEtBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQTtnQkFDZCxLQUFJLENBQUMsT0FBTyxDQUFDO29CQUNYLFVBQVUsRUFBRSxLQUFLO2lCQUNsQixDQUFDLENBQUE7WUFDSixDQUFDLENBQUMsQ0FBQTtTQUNIO0lBQ0gsQ0FBQztJQUNELE9BQU87UUFBUCxpQkFXQztRQVZDLEVBQUUsQ0FBQyxXQUFXLENBQUM7WUFDYixLQUFLLEVBQUUsS0FBSztTQUNiLENBQUMsQ0FBQTtRQUNGLHVCQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsR0FBRztZQUN6QyxLQUFJLENBQUMsT0FBTyxDQUFDO2dCQUNYLElBQUksRUFBRSxHQUFHO2dCQUNULEdBQUcsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLFVBQUMsQ0FBQyxFQUFDLENBQUMsSUFBSSxPQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFqQixDQUFpQixFQUFFLENBQUMsQ0FBQzthQUM5QyxDQUFDLENBQUE7WUFDRixFQUFFLENBQUMsV0FBVyxFQUFFLENBQUE7UUFDbEIsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDO0lBQ0QsT0FBTztRQUNMLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDWCxVQUFVLEVBQUUsS0FBSztTQUNsQixDQUFDLENBQUE7SUFDSixDQUFDO0lBQ0QsT0FBTyxFQUFQLFVBQVEsQ0FBWTtRQUNsQixJQUFNLEtBQUssR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFBO1FBQ3RCLElBQU0sR0FBRyxHQUFXLENBQUMsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFBO1FBQzlCLElBQUEscUJBQUksQ0FBYztRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFBO1FBQ2pCLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDWCxJQUFJLE1BQUE7U0FDTCxDQUFDLENBQUE7SUFDSixDQUFDO0lBQ0QsTUFBTSxFQUFFO1FBQUEsaUJBNkJQO1FBNUJDLElBQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFBO1FBSWpELFlBQVksQ0FBQyxFQUFFLENBQUMsMEJBQTBCLEVBQUUsVUFBQSxJQUFJO1lBQ3RDLElBQUEsc0NBQVksQ0FBZTtZQUNuQyxJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFBO1lBQ3RCLElBQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQTtZQUNuQixJQUFJLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUE7WUFDOUQsSUFBSSxDQUFDLElBQUksSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFBO1lBQzlELEtBQUksQ0FBQyxPQUFPLENBQUM7Z0JBQ1gsSUFBSSxFQUFHLElBQUk7Z0JBQ1gsUUFBUSxFQUFFLGlCQUFVLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUM5QyxRQUFRLEVBQUUsUUFBUTthQUNuQixFQUFFO2dCQUNELEtBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQTtZQUNoQixDQUFDLENBQUMsQ0FBQTtRQUNKLENBQUMsQ0FBQyxDQUFBO0lBV0osQ0FBQztDQUNGLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Zm9ybWF0VGltZX0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3V0aWxcIlxyXG5pbXBvcnQge2FkZEJpbGxEZWx0YWlsLHVwZGF0ZWlsbERlbHRhaWwsIGRlbEJpbGxEZWx0YWlsLCBnZXRCaWxsRGVsdGFpbHMgfSBmcm9tIFwiLi4vLi4vLi4vYXBpL2luZGV4XCJcclxuUGFnZSh7XHJcbiAgZGF0YToge1xyXG4gICAgYmlsbDoge30gYXMgQW55T2JqZWN0LFxyXG4gICAgZG93bmxvYWRIb3N0OiAnaHR0cHM6Ly9vc3MudG9rby53YW5nLycsXHJcbiAgICBmaWxlTGlzdDogW10gYXMgQW55QXJyYXksXHJcbiAgICBsaXN0OiBbXSBhcyBBbnlBcnJheSxcclxuICAgIHNob3dBY3Rpb246IGZhbHNlLFxyXG4gICAgc2F2ZVR5cGU6ICdhZGQnLFxyXG4gICAgc3VtOiAwLFxyXG4gICAgaWQ6IDAsXHJcbiAgICBmb3JtOiB7XHJcbiAgICAgIG5hbWU6ICcnLFxyXG4gICAgICBhbW91bnQ6IDEsXHJcbiAgICAgIG1vbmV5OiBcIlwiLFxyXG4gICAgfSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXI+XHJcbiAgfSxcclxuICBvblByZXZpZXdJbWFnZSgpOiB2b2lkIHtcclxuICAgIC8vIGNvbnN0IHsgdXJsIH0gPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQ7XHJcbiAgICBjb25zdCB7IGZpbGVMaXN0IH0gPSB0aGlzLmRhdGE7XHJcblxyXG4gICAgd3gucHJldmlld0ltYWdlKHtcclxuICAgICAgICB1cmxzOiBmaWxlTGlzdCxcclxuICAgICAgICBjdXJyZW50OiBmaWxlTGlzdFswXSxcclxuICAgICAgICBmYWlsKCkge1xyXG4gICAgICAgICAgICB3eC5zaG93VG9hc3QoeyB0aXRsZTogJ+mihOiniOWbvueJh+Wksei0pScsIGljb246ICdub25lJyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIG9uQWRkKCl7XHJcbiAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICBzaG93QWN0aW9uOiB0cnVlLFxyXG4gICAgICBzYXZlVHlwZTogJ2FkZCcsXHJcbiAgICAgIGZvcm06IHtcclxuICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICBhbW91bnQ6IDEsXHJcbiAgICAgICAgbW9uZXk6ICcnLFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgZWRpdChlOiBhbnkpe1xyXG4gXHJcbiAgICBjb25zdCBpdGVtID0gZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaXRlbVxyXG4gICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgc2hvd0FjdGlvbjogdHJ1ZSxcclxuICAgICAgc2F2ZVR5cGU6ICdlZGl0JyxcclxuICAgICAgaWQ6IGl0ZW0uaWQsXHJcbiAgICAgIGZvcm06IHtcclxuICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXHJcbiAgICAgICAgYW1vdW50OiBpdGVtLmFtb3VudCxcclxuICAgICAgICBtb25leTogaXRlbS5tb25leSxcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9LFxyXG4gIG9uRGVsKCl7XHJcbiAgICBkZWxCaWxsRGVsdGFpbCh0aGlzLmRhdGEuaWQpLnRoZW4oKCk9PntcclxuICAgICAgdGhpcy5nZXRMaXN0KClcclxuICAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgICBzaG93QWN0aW9uOiBmYWxzZVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9LFxyXG4gIG9uU2F2ZSgpe1xyXG4gICAgaWYodGhpcy5kYXRhLnNhdmVUeXBlID09ICdhZGQnKSB7XHJcbiAgICAgIGNvbnN0IHsgYmlsbCwgZm9ybSB9ID0gdGhpcy5kYXRhXHJcbiAgICAgIGFkZEJpbGxEZWx0YWlsKGJpbGwuaWQsIGZvcm0pLnRoZW4oKCk9PntcclxuICAgICAgICB0aGlzLmdldExpc3QoKVxyXG4gICAgICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgICAgICBzaG93QWN0aW9uOiBmYWxzZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYodGhpcy5kYXRhLnNhdmVUeXBlID09ICdlZGl0Jykge1xyXG4gICAgICBjb25zdCB7IGlkLCBmb3JtIH0gPSB0aGlzLmRhdGFcclxuICAgICAgdXBkYXRlaWxsRGVsdGFpbChpZCwgZm9ybSkudGhlbigoKT0+e1xyXG4gICAgICAgIHRoaXMuZ2V0TGlzdCgpXHJcbiAgICAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgICAgIHNob3dBY3Rpb246IGZhbHNlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9LFxyXG4gIGdldExpc3QoKXtcclxuICAgIHd4LnNob3dMb2FkaW5nKHtcclxuICAgICAgdGl0bGU6ICfliqDovb3kuK0nXHJcbiAgICB9KVxyXG4gICAgZ2V0QmlsbERlbHRhaWxzKHRoaXMuZGF0YS5iaWxsLmlkKS50aGVuKHJlcyA9PntcclxuICAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgICBsaXN0OiByZXMsXHJcbiAgICAgICAgc3VtOiByZXMucmVkdWNlKChwLGMpPT4gKCtwKSArICgrYy5tb25leSksIDApXHJcbiAgICAgIH0pXHJcbiAgICAgIHd4LmhpZGVMb2FkaW5nKClcclxuICAgIH0pXHJcbiAgfSxcclxuICBvbkNsb3NlKCl7XHJcbiAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICBzaG93QWN0aW9uOiBmYWxzZVxyXG4gICAgfSlcclxuICB9LFxyXG4gIG9uSW5wdXQoZTogQW55T2JqZWN0KXtcclxuICAgIGNvbnN0IHZhbHVlID0gZS5kZXRhaWxcclxuICAgIGNvbnN0IGtleTogc3RyaW5nID0gZS5jdXJyZW50VGFyZ2V0LmlkXHJcbiAgICBjb25zdCB7IGZvcm0gfSA9IHRoaXMuZGF0YVxyXG4gICAgZm9ybVtrZXldID0gdmFsdWVcclxuICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgIGZvcm1cclxuICAgIH0pXHJcbiAgfSxcclxuICBvbkxvYWQ6IGZ1bmN0aW9uKCl7XHJcbiAgICBjb25zdCBldmVudENoYW5uZWwgPSB0aGlzLmdldE9wZW5lckV2ZW50Q2hhbm5lbCgpXHJcbiAgICAvLyBldmVudENoYW5uZWwuZW1pdCgnYWNjZXB0RGF0YUZyb21PcGVuZWRQYWdlJywge2RhdGE6ICd0ZXN0J30pO1xyXG4gICAgLy8gZXZlbnRDaGFubmVsLmVtaXQoJ3NvbWVFdmVudCcsIHtkYXRhOiAndGVzdCd9KTtcclxuICAgIC8vIOebkeWQrGFjY2VwdERhdGFGcm9tT3BlbmVyUGFnZeS6i+S7tu+8jOiOt+WPluS4iuS4gOmhtemdoumAmui/h2V2ZW50Q2hhbm5lbOS8oOmAgeWIsOW9k+WJjemhtemdoueahOaVsOaNrlxyXG4gICAgZXZlbnRDaGFubmVsLm9uKCdhY2NlcHREYXRhRnJvbU9wZW5lclBhZ2UnLCBkYXRhID0+IHtcclxuICAgICAgY29uc3QgeyBkb3dubG9hZEhvc3QgfSA9IHRoaXMuZGF0YTtcclxuICAgICAgY29uc3QgYmlsbCA9IGRhdGEuYmlsbFxyXG4gICAgICBjb25zdCBmaWxlTGlzdCA9IFtdXHJcbiAgICAgIGJpbGwuUGljMSAmJiBmaWxlTGlzdC5wdXNoKGRvd25sb2FkSG9zdCArIGJpbGwuUGljMS5maWxlX25hbWUpXHJcbiAgICAgIGJpbGwuUGljMiAmJiBmaWxlTGlzdC5wdXNoKGRvd25sb2FkSG9zdCArIGJpbGwuUGljMi5maWxlX25hbWUpXHJcbiAgICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgICAgYmlsbDogIGJpbGwsXHJcbiAgICAgICAgYmlsbFRpbWU6IGZvcm1hdFRpbWUobmV3IERhdGUoYmlsbC5iaWxsX3RpbWUpKSxcclxuICAgICAgICBmaWxlTGlzdDogZmlsZUxpc3QsXHJcbiAgICAgIH0sICgpPT57XHJcbiAgICAgICAgdGhpcy5nZXRMaXN0KClcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAvLyBjb25zdCB7IGRvd25sb2FkSG9zdCB9ID0gdGhpcy5kYXRhO1xyXG4gICAgLy8gY29uc3QgYmlsbDogQW55T2JqZWN0ID0ge1wiaWRcIjo4MixcImNyZWF0ZWRfYXRcIjpcIjIwMjAtMDYtMTVUMDE6NDE6MTQrMDg6MDBcIixcInVwZGF0ZWRfYXRcIjpcIjIwMjAtMDYtMTVUMDE6NDE6MTQrMDg6MDBcIixcImRlbGV0ZWRfYXRcIjpudWxsLFwidXNlcl9pZFwiOjEsXCJsZWRnZXJfaWRcIjoxLFwiYW1vdW50XCI6XCIxMlwiLFwiYW1vdW50X3R5cGVcIjoxLFwiYmlsbF90eXBlX2lkXCI6MyxcImJpbGxfdGltZVwiOlwiMjAyMC0wNi0xNVQwMTo0MDozOCswODowMFwiLFwiY29tbWVudFwiOlwi5oiR55qE576O54WnXCIsXCJhY2NvdW50X2lkXCI6MixcInBpY19pZDFcIjo0NCxcInBpY19pZDJcIjotMSxcIlBpYzFcIjp7XCJpZFwiOjQ0LFwiY3JlYXRlZF9hdFwiOlwiMjAyMC0wNi0xNVQwMTo0MDo1NCswODowMFwiLFwidXBkYXRlZF9hdFwiOlwiMjAyMC0wNi0xNVQwMTo0MDo1NCswODowMFwiLFwiZGVsZXRlZF9hdFwiOm51bGwsXCJ1c2VyX2lkXCI6MSxcImJ1Y2tldFwiOlwidG9reW9xXCIsXCJmaWxlX25hbWVcIjpcImJpbGxfcGljL3RtcF8yNGFjMzdhMzMwMzYyZjY3OWJkNmEwY2YzZDNhYjdmZjBlYmYxZmNmOTY5NzEzMzAuanBnXCIsXCJzaXplXCI6NjM1NDMsXCJtaW1lX3R5cGVcIjpcImltYWdlL2pwZWdcIixcImhlaWdodFwiOjg1NCxcIndpZHRoXCI6NjQwLFwiVXNlclwiOm51bGx9LFwiUGljMlwiOm51bGwsXCJVc2VyXCI6e1wiaWRcIjoxLFwiY3JlYXRlZF9hdFwiOlwiMjAyMC0wNS0xOFQwNjo1NzoyOSswODowMFwiLFwidXBkYXRlZF9hdFwiOlwiMjAyMC0wNi0xNVQxMzo1NzoyOCswODowMFwiLFwiZGVsZXRlZF9hdFwiOm51bGwsXCJvcGVuaWRcIjpcIm9CM1hkNHFmWTBjUE9BWk02QlhycTZrRkY5MWtcIixcInVzZXJuYW1lXCI6XCJcIixcImFnZVwiOjAsXCJiaXJ0aGRheVwiOm51bGwsXCJlbWFpbFwiOlwiXCIsXCJyb2xlXCI6XCJcIixcImFkZHJlc3NcIjpcIlwiLFwibmlja25hbWVcIjpcIlRva3lvXCIsXCJnZW5kZXJcIjoxLFwicHJvdmluY2VcIjpcIlNoYW5kb25nXCIsXCJjaXR5XCI6XCJMaW55aVwiLFwiY291bnRyeVwiOlwiQ2hpbmFcIixcImxhbmd1YWdlXCI6XCJ6aF9DTlwiLFwiYXZhdGFyVXJsXCI6XCJodHRwczovL3d4LnFsb2dvLmNuL21tb3Blbi92aV8zMi9RMGo0VHdHVGZUSzM0STZsdEVwOXFVM24yZmlhN1hiNkNSTlRFbnNseTBWN25Qc1BYQ0MwYW1QZjEzeVVrWnJVa245UEhPSUZyQ3FmaEYwTGZTZmQ5cWcvMTMyXCJ9LFwiQWNjb3VudFwiOntcImlkXCI6MixcImNyZWF0ZWRfYXRcIjpcIjIwMjAtMDUtMThUMDY6NTc6MjgrMDg6MDBcIixcInVwZGF0ZWRfYXRcIjpcIjIwMjAtMDUtMThUMDY6NTc6MjgrMDg6MDBcIixcImRlbGV0ZWRfYXRcIjpudWxsLFwibGVkZ2VyX2lkXCI6MSxcInVzZXJfaWRcIjoxLFwibmFtZVwiOlwi5pSv5LuY5a6dXCIsXCJ0eXBlXCI6MSxcImljb25cIjpcImVtb2ppXCIsXCJvcmRcIjoyLFwiYW1vdW50XCI6MH0sXCJMZWRnZXJcIjpudWxsLFwiQmlsbFR5cGVcIjp7XCJpZFwiOjMsXCJjcmVhdGVkX2F0XCI6XCIyMDIwLTA1LTE4VDA2OjU3OjI4KzA4OjAwXCIsXCJ1cGRhdGVkX2F0XCI6XCIyMDIwLTA1LTE4VDA2OjU3OjI4KzA4OjAwXCIsXCJkZWxldGVkX2F0XCI6bnVsbCxcImxlZGdlcl9pZFwiOjEsXCJ1c2VyX2lkXCI6MSxcIm5hbWVcIjpcIuaUr+WHujNcIixcInR5cGVcIjoxLFwicGFyZW50X2lkXCI6LTEsXCJpY29uXCI6XCJlbW9qaVwiLFwiY2hpbGRyZW5cIjpudWxsLFwib3JkXCI6M319XHJcbiAgICAvLyBjb25zdCBmaWxlTGlzdCA9IFtdXHJcbiAgICAvLyBiaWxsLlBpYzEgJiYgZmlsZUxpc3QucHVzaChkb3dubG9hZEhvc3QgKyBiaWxsLlBpYzEuZmlsZV9uYW1lKVxyXG4gICAgLy8gYmlsbC5QaWMyICYmIGZpbGVMaXN0LnB1c2goZG93bmxvYWRIb3N0ICsgYmlsbC5QaWMyLmZpbGVfbmFtZSlcclxuICAgIC8vIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAvLyAgIGJpbGw6ICBiaWxsLFxyXG4gICAgLy8gICBiaWxsVGltZTogZm9ybWF0VGltZShuZXcgRGF0ZShiaWxsLmJpbGxfdGltZSkpLFxyXG4gICAgLy8gICBmaWxlTGlzdDogZmlsZUxpc3QsXHJcbiAgICAvLyB9KVxyXG4gIH0sXHJcbn0pXHJcblxyXG5leHBvcnQge30iXX0=