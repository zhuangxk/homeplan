"use strict";
Component({
    options: {
        styleIsolation: 'apply-shared'
    },
    data: {
        max: 9999999,
        min: 0,
        remark: '',
        acount: '',
        date: '',
        typing: false,
        MainCur: 0,
        billTypes: [{ id: 0, name: '购物', icon: 'close' },
            { id: 1, name: '购物', icon: 'close' },
            { id: 2, name: '购物', icon: 'close' },
            { id: 3, name: '购物', icon: 'close' },
            { id: 4, name: '购物', icon: 'close' },
            { id: 5, name: '购物', icon: 'close' },
            { id: 6, name: '购物', icon: 'close' },
            { id: 7, name: '购物', icon: 'close' },
            { id: 8, name: '购物', icon: 'close' },
            { id: 9, name: '购物', icon: 'close' },
            { id: 10, name: '购物', icon: 'close' },
            { id: 11, name: '购物', icon: 'close' },
            { id: 12, name: '购物', icon: 'close' },
            { id: 13, name: '购物', icon: 'close' },
            { id: 14, name: '购物', icon: 'close' },
            { id: 15, name: '购物', icon: 'close' }],
    },
    methods: {
        onInput: function (e) {
            var value = e.currentTarget.dataset.v;
            console.log('----', e);
            if (!value)
                return;
            switch (value) {
                case 'date':
                    this.setDate();
                    return;
                case 'ok':
                    this.ok();
                    return;
                case 'del':
                    this.del();
                    return;
                default:
                    this.input(value);
                    return;
            }
        },
        del: function () {
            var value = this.data.acount.substring(0, this.data.acount.length - 1);
            console.log('del', value);
            this.setData({
                acount: value
            });
        },
        setDate: function () {
            ;
        },
        ok: function () {
            ;
        },
        input: function (val) {
            console.log('input');
            var value = this.format(val);
            this.setData({
                acount: value
            });
        },
        filter: function (value) {
            value = value.replace(/[^0-9.-]/g, '');
            if (this.data.integer && value.indexOf('.') !== -1) {
                value = value.split('.')[0];
            }
            return value;
        },
        format: function (val) {
            if (this.data.acount.indexOf('.') > -1) {
                if (val === '.') {
                    return this.data.acount;
                }
                if (this.data.acount.split('.')[1].length >= 2) {
                    return this.data.acount;
                }
            }
            var value = this.data.acount + val;
            if (val === '.') {
                return this.data.acount + val;
            }
            if (this.data.acount === '0') {
                if (val !== '.') {
                    return val;
                }
            }
            if (parseInt(value) > 99999999) {
                wx.showToast({
                    title: '钱太多,数不过来啦',
                    icon: 'none'
                });
                return this.data.acount;
            }
            return value;
        },
        getNum: function (val) {
            var n = parseFloat(val);
            return n;
        },
        checkNum: function (val) {
            var n = this.getNum(val);
            console.log(n);
            if (n > 1000000) {
                wx.showToast({
                    title: '数值太大',
                    icon: 'none',
                    duration: 2000
                });
                return false;
            }
            return true;
        },
        onRemarkFocus: function (e) {
            console.log(e);
            this.setData({
                typing: true
            });
        },
        onRemarkBlur: function (e) {
            var value = e.detail.value;
            this.setData({
                typing: false,
                remark: value
            });
        }
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia2V5Ym9hcmQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJrZXlib2FyZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsU0FBUyxDQUFDO0lBQ1IsT0FBTyxFQUFFO1FBQ1AsY0FBYyxFQUFFLGNBQWM7S0FDL0I7SUFDRCxJQUFJLEVBQUU7UUFDSixHQUFHLEVBQUUsT0FBTztRQUNaLEdBQUcsRUFBRSxDQUFDO1FBQ04sTUFBTSxFQUFFLEVBQUU7UUFDVixNQUFNLEVBQUUsRUFBRTtRQUNWLElBQUksRUFBRSxFQUFFO1FBQ1IsTUFBTSxFQUFFLEtBQUs7UUFDYixPQUFPLEVBQUUsQ0FBQztRQUNWLFNBQVMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUU7WUFDaEQsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRTtZQUNwQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFO1lBQ3BDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUU7WUFDcEMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRTtZQUNwQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFO1lBQ3BDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUU7WUFDcEMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRTtZQUNwQyxF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RyxDQUFDLENBQUE7WUFDekIsT0FBTyxDQUFDLENBQUE7UUFDVixDQUFDO1FBQ0QsUUFBUSxFQUFSLFVBQVMsR0FBVztZQUNsQixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1lBQzFCLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDZCxJQUFHLENBQUMsR0FBQyxPQUFPLEVBQUM7Z0JBQ1gsRUFBRSxDQUFDLFNBQVMsQ0FBQztvQkFDWCxLQUFLLEVBQUUsTUFBTTtvQkFDYixJQUFJLEVBQUUsTUFBTTtvQkFDWixRQUFRLEVBQUUsSUFBSTtpQkFDZixDQUFDLENBQUE7Z0JBQ0YsT0FBTyxLQUFLLENBQUE7YUFDYjtZQUNELE9BQU8sSUFBSSxDQUFBO1FBQ2IsQ0FBQztRQUNELGFBQWEsRUFBYixVQUFjLENBQU07WUFDbEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUNkLElBQUksQ0FBQyxPQUFPLENBQUM7Z0JBQ1gsTUFBTSxFQUFFLElBQUk7YUFDYixDQUFDLENBQUE7UUFDSixDQUFDO1FBQ0QsWUFBWSxFQUFaLFVBQWEsQ0FBTTtZQUNqQixJQUFNLEtBQUssR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQTtZQUM1QixJQUFJLENBQUMsT0FBTyxDQUFDO2dCQUNYLE1BQU0sRUFBRSxLQUFLO2dCQUNiLE1BQU0sRUFBRSxLQUFLO2FBQ2QsQ0FBQyxDQUFBO1FBQ0osQ0FBQztLQUNGO0NBQ0YsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbkNvbXBvbmVudCh7XHJcbiAgb3B0aW9uczoge1xyXG4gICAgc3R5bGVJc29sYXRpb246ICdhcHBseS1zaGFyZWQnXHJcbiAgfSxcclxuICBkYXRhOiB7XHJcbiAgICBtYXg6IDk5OTk5OTksXHJcbiAgICBtaW46IDAsXHJcbiAgICByZW1hcms6ICcnLFxyXG4gICAgYWNvdW50OiAnJyxcclxuICAgIGRhdGU6ICcnLFxyXG4gICAgdHlwaW5nOiBmYWxzZSxcclxuICAgIE1haW5DdXI6IDAsXHJcbiAgICBiaWxsVHlwZXM6IFt7IGlkOiAwLCBuYW1lOiAn6LSt54mpJywgaWNvbjogJ2Nsb3NlJyB9LCBcclxuICAgIHsgaWQ6IDEsIG5hbWU6ICfotK3niaknLCBpY29uOiAnY2xvc2UnIH0sIFxyXG4gICAgeyBpZDogMiwgbmFtZTogJ+i0reeJqScsIGljb246ICdjbG9zZScgfSwgXHJcbiAgICB7IGlkOiAzLCBuYW1lOiAn6LSt54mpJywgaWNvbjogJ2Nsb3NlJyB9LCBcclxuICAgIHsgaWQ6IDQsIG5hbWU6ICfotK3niaknLCBpY29uOiAnY2xvc2UnIH0sIFxyXG4gICAgeyBpZDogNSwgbmFtZTogJ+i0reeJqScsIGljb246ICdjbG9zZScgfSxcclxuICAgIHsgaWQ6IDYsIG5hbWU6ICfotK3niaknLCBpY29uOiAnY2xvc2UnIH0sIFxyXG4gICAgeyBpZDogNywgbmFtZTogJ+i0reeJqScsIGljb246ICdjbG9zZScgfSwgXHJcbiAgICB7IGlkOiA4LCBuYW1lOiAn6LSt54mpJywgaWNvbjogJ2Nsb3NlJyB9LCBcclxuICAgIHsgaWQ6IDksIG5hbWU6ICfotK3niaknLCBpY29uOiAnY2xvc2UnIH0sIFxyXG4gICAgeyBpZDogMTAsIG5hbWU6ICfotK3niaknLCBpY29uOiAnY2xvc2UnIH0sIFxyXG4gICAgeyBpZDogMTEsIG5hbWU6ICfotK3niaknLCBpY29uOiAnY2xvc2UnIH0sXHJcbiAgICB7IGlkOiAxMiwgbmFtZTogJ+i0reeJqScsIGljb246ICdjbG9zZScgfSxcclxuICAgIHsgaWQ6IDEzLCBuYW1lOiAn6LSt54mpJywgaWNvbjogJ2Nsb3NlJyB9LFxyXG4gICAgeyBpZDogMTQsIG5hbWU6ICfotK3niaknLCBpY29uOiAnY2xvc2UnIH0sIFxyXG4gICAgeyBpZDogMTUsIG5hbWU6ICfotK3niaknLCBpY29uOiAnY2xvc2UnIH1dLFxyXG4gIH0sXHJcbiAgbWV0aG9kczoge1xyXG4gICAgb25JbnB1dChlOiBhbnkpe1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IGUuY3VycmVudFRhcmdldC5kYXRhc2V0LnY7XHJcbiAgICAgIGNvbnNvbGUubG9nKCctLS0tJywgZSlcclxuICAgICAgaWYoIXZhbHVlKSByZXR1cm5cclxuICAgICAgc3dpdGNoICh2YWx1ZSkge1xyXG4gICAgICAgIGNhc2UgJ2RhdGUnOlxyXG4gICAgICAgICAgdGhpcy5zZXREYXRlKClcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIGNhc2UgJ29rJzpcclxuICAgICAgICAgIHRoaXMub2soKVxyXG4gICAgICAgICAgcmV0dXJuXHJcblxyXG4gICAgICAgIGNhc2UgJ2RlbCc6XHJcbiAgICAgICAgICB0aGlzLmRlbCgpXHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICBcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgdGhpcy5pbnB1dCh2YWx1ZSlcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRlbCgpOiB2b2lke1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZGF0YS5hY291bnQuc3Vic3RyaW5nKDAsIHRoaXMuZGF0YS5hY291bnQubGVuZ3RoIC0gMSlcclxuICAgICAgY29uc29sZS5sb2coJ2RlbCcsdmFsdWUpXHJcbiAgICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgICAgYWNvdW50OiB2YWx1ZVxyXG4gICAgICB9KVxyXG4gICAgfSxcclxuICAgIHNldERhdGUoKTogdm9pZHtcclxuICAgICAgO1xyXG4gICAgfSxcclxuICAgIG9rKCk6IHZvaWR7XHJcbiAgICAgIDtcclxuICAgIH0sXHJcbiAgICBpbnB1dCh2YWw6IHN0cmluZyk6IHZvaWR7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdpbnB1dCcpXHJcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5mb3JtYXQodmFsKVxyXG4gICAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICAgIGFjb3VudDogdmFsdWVcclxuICAgICAgfSlcclxuICAgIH0sXHJcbiAgICAvLyBmaWx0ZXIgaWxsZWdhbCBjaGFyYWN0ZXJzXHJcbiAgICBmaWx0ZXI6IGZ1bmN0aW9uICh2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9bXjAtOS4tXS9nLCAnJyk7XHJcbiAgICAgIGlmICh0aGlzLmRhdGEuaW50ZWdlciAmJiB2YWx1ZS5pbmRleE9mKCcuJykgIT09IC0xKSB7XHJcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5zcGxpdCgnLicpWzBdO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH0sXHJcbiAgICAvLyBsaW1pdCB2YWx1ZSByYW5nZVxyXG4gICAgZm9ybWF0OiBmdW5jdGlvbiAodmFsOiBhbnkpIHtcclxuICAgICAgaWYgKHRoaXMuZGF0YS5hY291bnQuaW5kZXhPZignLicpID4gLTEpIHtcclxuICAgICAgICBpZiAodmFsID09PSAnLicpe1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5hY291bnRcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5kYXRhLmFjb3VudC5zcGxpdCgnLicpWzFdLmxlbmd0aCA+PSAyKXtcclxuICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEuYWNvdW50XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5kYXRhLmFjb3VudCArIHZhbFxyXG4gICAgICBpZiAodmFsID09PSAnLicpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmFjb3VudCArIHZhbFxyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLmRhdGEuYWNvdW50ID09PSAnMCcpe1xyXG4gICAgICAgIGlmKHZhbCAhPT0gJy4nICl7XHJcbiAgICAgICAgICByZXR1cm4gdmFsXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmKHBhcnNlSW50KHZhbHVlKSA+IDk5OTk5OTk5KXtcclxuICAgICAgICB3eC5zaG93VG9hc3Qoe1xyXG4gICAgICAgICAgdGl0bGU6ICfpkrHlpKrlpJos5pWw5LiN6L+H5p2l5ZWmJyxcclxuICAgICAgICAgIGljb246ICdub25lJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5hY291bnRcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHZhbHVlXHJcblxyXG4gICAgfSxcclxuICAgIGdldE51bSh2YWw6IHN0cmluZyk6IG51bWJlcntcclxuICAgICAgY29uc3QgbiA9IHBhcnNlRmxvYXQodmFsKVxyXG4gICAgICByZXR1cm4gblxyXG4gICAgfSxcclxuICAgIGNoZWNrTnVtKHZhbDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgIGNvbnN0IG4gPSB0aGlzLmdldE51bSh2YWwpXHJcbiAgICAgIGNvbnNvbGUubG9nKG4pXHJcbiAgICAgIGlmKG4+MTAwMDAwMCl7XHJcbiAgICAgICAgd3guc2hvd1RvYXN0KHtcclxuICAgICAgICAgIHRpdGxlOiAn5pWw5YC85aSq5aSnJyxcclxuICAgICAgICAgIGljb246ICdub25lJyxcclxuICAgICAgICAgIGR1cmF0aW9uOiAyMDAwXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfSxcclxuICAgIG9uUmVtYXJrRm9jdXMoZTogYW55KTogdm9pZCB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgICAgdHlwaW5nOiB0cnVlXHJcbiAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgb25SZW1hcmtCbHVyKGU6IGFueSk6IHZvaWQge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IGUuZGV0YWlsLnZhbHVlXHJcbiAgICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgICAgdHlwaW5nOiBmYWxzZSxcclxuICAgICAgICByZW1hcms6IHZhbHVlXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG59KSJdfQ==